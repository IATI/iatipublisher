"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[531],{90242:function(e,t,d){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicField=void 0;var a=i(d(19755));d(40686);var l=function(){function e(){}return e.prototype.hideShowFormFields=function(){this.humanitarianScopeHideVocabularyUri(),this.countryBudgetHideCodeField(),this.aidTypeVocabularyHideField(),this.sectorVocabularyHideField(),this.policyVocabularyHideField(),this.recipientVocabularyHideField(),this.sectorVocabularyHideField(),this.tagVocabularyHideField(),this.transactionAidTypeVocabularyHideField(),this.indicatorReferenceHideFieldUri()},e.prototype.humanitarianScopeHideVocabularyUri=function(){var e=this,t=(0,a.default)('select[id^="humanitarian_scope"][id*="[vocabulary]"]');t.length>0&&(a.default.each(t,(function(t,d){var i,l=null!==(i=(0,a.default)(d).val())&&void 0!==i?i:"";e.hideHumanitarianScopeField((0,a.default)(d),l.toString())})),t.on("select2:select",(function(t){var d=t.params.data.id,i=t.target;e.hideHumanitarianScopeField((0,a.default)(i),d)})),t.on("select2:clear",(function(t){var d=t.target;e.hideHumanitarianScopeField((0,a.default)(d),"")})))},e.prototype.hideHumanitarianScopeField=function(e,t){var d='input[id^="humanitarian_scope"][id*="[vocabulary_uri]"]';"99"===t?e.closest(".form-field-group").find(d).show().removeAttr("disabled").closest(".form-field").show():e.closest(".form-field-group").find(d).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()},e.prototype.indicatorReferenceHideFieldUri=function(){var e=this,t=(0,a.default)('select[id^="reference"][id*="[vocabulary]"]');t.length>0&&(a.default.each(t,(function(t,d){var i,l=null!==(i=(0,a.default)(d).val())&&void 0!==i?i:"";e.indicatorReferenceHideField((0,a.default)(d),l.toString())})),t.on("select2:select",(function(t){var d=t.params.data.id,i=t.target;e.indicatorReferenceHideField((0,a.default)(i),d)})),t.on("select2:clear",(function(t){var d=t.target;e.indicatorReferenceHideField((0,a.default)(d),"")})))},e.prototype.indicatorReferenceHideField=function(e,t){var d='input[id^="reference"][id*="[indicator_uri]"]';"99"===t?e.closest(".form-field-group").find(d).show().removeAttr("disabled").closest(".form-field").show():e.closest(".form-field-group").find(d).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()},e.prototype.countryBudgetHideCodeField=function(){var e,t=this,d=(0,a.default)("select#country_budget_vocabulary");if(d.length>0){var i=null!==(e=d.val())&&void 0!==e?e:"1";this.hideCountryBudgetField(i.toString()),d.on("select2:select",(function(e){var d=e.params.data.id;t.hideCountryBudgetField(d)})),d.on("select2:clear",(function(){t.hideCountryBudgetField("")}))}},e.prototype.hideCountryBudgetField=function(e){var t='input[id^="budget_item"][id*="[code_text]"]',d='select[id^="budget_item"][id*="[code]"]';"1"===e?((0,a.default)(d).val("").trigger("change").attr("disabled","disabled").closest(".form-field").hide(),(0,a.default)(t).removeAttr("disabled").closest(".form-field").show()):((0,a.default)(d).removeAttr("disabled").closest(".form-field").show(),(0,a.default)(t).val("").trigger("change").closest(".form-field").hide())},e.prototype.aidTypeVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="default_aid_type_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,d){var i,l=null!==(i=(0,a.default)(d).val())&&void 0!==i?i:"1";e.hideAidTypeSelectField((0,a.default)(d),l.toString())})),t.on("select2:select",(function(t){var d=t.params.data.id,i=t.target;e.hideAidTypeSelectField((0,a.default)(i),d)})),t.on("select2:clear",(function(t){var d=t.target;e.hideAidTypeSelectField((0,a.default)(d),"")})))},e.prototype.transactionAidTypeVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="aid_type_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,d){var i,l=null!==(i=(0,a.default)(d).val())&&void 0!==i?i:"1";e.hideTransactionAidTypeSelectField((0,a.default)(d),l.toString())})),t.on("select2:select",(function(t){var d=t.params.data.id,i=t.target;e.hideTransactionAidTypeSelectField((0,a.default)(i),d)})),t.on("select2:clear",(function(t){var d=t.target;e.hideTransactionAidTypeSelectField((0,a.default)(d),"")})))},e.prototype.hideAidTypeSelectField=function(e,t){switch(t){case"2":e.closest(".form-field-group").find('select[id*="[earmarking_category]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[default_aid_type]"],select[id*="[earmarking_modality]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"3":e.closest(".form-field-group").find('select[id*="[earmarking_modality]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[default_aid_type]"],select[id*="[earmarking_category]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"4":e.closest(".form-field-group").find('select[id*="[cash_and_voucher_modalities]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[default_aid_type]"],select[id*="[earmarking_category]"],select[id*="[earmarking_modality]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;default:e.closest(".form-field-group").find('select[id*="[default_aid_type]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[earmarking_category]"],select[id*="[earmarking_modality]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e.prototype.hideTransactionAidTypeSelectField=function(e,t){switch(t){case"2":e.closest(".form-field-group").find('select[id*="[earmarking_category]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[aid_type_code]"],select[id*="[earmarking_modality]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"3":e.closest(".form-field-group").find('select[id*="[earmarking_modality]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[aid_type_code]"],select[id*="[earmarking_category]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"4":e.closest(".form-field-group").find('select[id*="[cash_and_voucher_modalities]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[aid_type_code]"],select[id*="[earmarking_category]"],select[id*="[earmarking_modality]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;default:e.closest(".form-field-group").find('select[id*="[aid_type_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[earmarking_category]"],select[id*="[earmarking_modality]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e.prototype.policyVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="policy_marker_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,d){var i,l=null!==(i=(0,a.default)(d).val())&&void 0!==i?i:"1";e.hidePolicyMakerField((0,a.default)(d),l.toString())})),t.on("select2:select",(function(t){var d=t.params.data.id,i=t.target;e.hidePolicyMakerField((0,a.default)(i),d)})),t.on("select2:clear",(function(t){var d=t.target;e.hidePolicyMakerField((0,a.default)(d),"99")})))},e.prototype.hidePolicyMakerField=function(e,t){if("1"===t)e.closest(".form-field-group").find('select[id*="[policy_marker]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[policy_marker_text]"],input[id*="[vocabulary_uri]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();else e.closest(".form-field-group").find('input[id*="[policy_marker_text]"],input[id*="[vocabulary_uri]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[policy_marker]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()},e.prototype.sectorVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="sector_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,d){var i,l=null!==(i=(0,a.default)(d).val())&&void 0!==i?i:"1";e.hideSectorField((0,a.default)(d),l.toString())})),t.on("select2:select",(function(t){var d=t.params.data.id,i=t.target;e.hideSectorField((0,a.default)(i),d)})),t.on("select2:clear",(function(t){var d=t.target;e.hideSectorField((0,a.default)(d),"")})))},e.prototype.hideSectorField=function(e,t){var d='input[id*="[text]"],input[id*="[vocabulary_uri]"]',i='select[id*="[category_code]"],select[id*="[sdg_goal]"],select[id*="[sdg_target]"],select[id*="[code]"]';switch(t){case"1":e.closest(".form-field-group").find('select[id*="[code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[category_code]"],select[id*="[sdg_goal]"],select[id*="[sdg_target]"],input[id*="[vocabulary_uri]"],input[id*="[text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"2":e.closest(".form-field-group").find('select[id*="[category_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[sdg_goal]"],select[id*="[sdg_target]"],select[id*="[code]"],input[id*="[text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"7":e.closest(".form-field-group").find('select[id*="[sdg_goal]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[category_code]"],select[id*="[sdg_target]"],select[id*="[code]"],input[id*="[text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"8":e.closest(".form-field-group").find('select[id*="[sdg_target]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[category_code]"],select[id*="[sdg_goal]"],select[id*="[code]"],input[id*="[text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"98":case"99":e.closest(".form-field-group").find(d).show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find(i).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;default:e.closest(".form-field-group").find('input[id*="[text]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[category_code]"],select[id*="[sdg_goal]"],select[id*="[sdg_target]"],select[id*="[code]"],input[id*="[vocabulary_uri]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e.prototype.recipientVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="region_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,d){var i,l=null!==(i=(0,a.default)(d).val())&&void 0!==i?i:"1";e.hideRecipientRegionField((0,a.default)(d),l.toString())})),t.on("select2:select",(function(t){var d=t.params.data.id,i=t.target;e.hideRecipientRegionField((0,a.default)(i),d)})),t.on("select2:clear",(function(t){var d=t.target;e.hideRecipientRegionField((0,a.default)(d),"")})))},e.prototype.hideRecipientRegionField=function(e,t){var d='input[id*="[custom_code]"], input[id*="[code]"]',i='select[id*="[region_code]"],input[id*="[vocabulary_uri]"]';switch(t){case"1":e.closest(".form-field-group").find('select[id*="[region_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[custom_code]"],input[id*="[vocabulary_uri]"],input[id*="[code]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"2":default:e.closest(".form-field-group").find(d).show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find(i).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"99":e.closest(".form-field-group").find('input[id*="[custom_code]"],input[id*="[vocabulary_uri]"], input[id*="[code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[region_code]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e.prototype.updateActivityIdentifier=function(){var e=(0,a.default)("#activity_identifier");e.length>0&&e.on("keyup",(function(){(0,a.default)("#iati_identifier_text").val((0,a.default)(".identifier").attr("activity_identifier")+"-".concat((0,a.default)(this).val()))}))},e.prototype.tagVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="tag_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,d){var i,l=null!==(i=(0,a.default)(d).val())&&void 0!==i?i:"1";e.hideTagField((0,a.default)(d),l.toString())})),t.on("select2:select",(function(t){var d=t.params.data.id,i=t.target;e.hideTagField((0,a.default)(i),d)})),t.on("select2:clear",(function(t){var d=t.target;e.hideTagField((0,a.default)(d),"")})))},e.prototype.hideTagField=function(e,t){var d='input[id*="[tag_text]"]',i='select[id*="[goals_tag_code]"],select[id*="[targets_tag_code]"],input[id*="[vocabulary_uri]"]';switch(t){case"1":default:e.closest(".form-field-group").find(d).show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find(i).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"2":e.closest(".form-field-group").find('select[id*="[goals_tag_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[targets_tag_code]"],select[id*="[targets_tag_code]"],input[id*="[tag_text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"3":e.closest(".form-field-group").find('select[id*="[targets_tag_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[goals_tag_code]"],input[id*="[tag_text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"99":e.closest(".form-field-group").find('input[id*="[tag_text]"], input[id*="[vocabulary_uri]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[goals_tag_code]"],select[id*="[targets_tag_code]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e}();t.DynamicField=l},76336:function(e,t,d){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(d(97218)),l=i(d(19755));d(40686);var r=new(d(90242).DynamicField),o=function(){function e(){}return e.prototype.addForm=function(e){e.preventDefault();var t=e.target,d=(0,l.default)(t).attr("form_type")?(0,l.default)(".collection-container[form_type ='".concat((0,l.default)(t).attr("form_type"),"']")):(0,l.default)(".collection-container"),i=(0,l.default)(t).attr("child_count")?parseInt((0,l.default)(t).attr("child_count"))+1:(0,l.default)(t).parent().find(".form-child-body").length,a=(0,l.default)(t).attr("parent_count")?parseInt((0,l.default)(t).attr("parent_count")):(0,l.default)(t).parents(".multi-form").index()-1,o=(0,l.default)(t).attr("wrapped_parent_count")?parseInt((0,l.default)(t).attr("wrapped_parent_count")):(0,l.default)(t).parents(".wrapped-child-body").index()-1,c=d.data("prototype").replace(/__PARENT_NAME__/g,a);c=(0,l.default)(t).attr("has_child_collection")?(c=c.replace(/__WRAPPER_NAME__/g,i)).replace(/__NAME__/g,0):(c=c.replace(/__NAME__/g,i)).replace(/__WRAPPER_NAME__/g,o),(0,l.default)(t).prev().append((0,l.default)(c)),(0,l.default)(t).attr("has_child_collection")&&((0,l.default)(t).prev(".subelement").children(".wrapped-child-body").last().find(".add_to_collection").attr("wrapped_parent_count",i),(0,l.default)(t).prev(".subelement").children(".wrapped-child-body").last().find(".add_to_collection").attr("parent_count",a)),(0,l.default)(t).prev().find(".wrapped-child-body").last().find(".add_to_collection").attr("wrapper_parent_count",null!=o?o:0),(0,l.default)(t).attr("form_type")?((0,l.default)(t).prev().last().find(".select2").select2({placeholder:"Select an option",allowClear:!0}),(0,l.default)(this).find(".sub-attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 sub-attribute-wrapper"></div>')),(0,l.default)(t).prev(".subelement").children(".wrapped-child-body").last().find(".sub-attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 sub-attribute-wrapper mt-6"></div>'))):(0,l.default)(t).parent().find(".form-child-body").last().find(".select2").select2({placeholder:"Select an option",allowClear:!0}),(0,l.default)(t).attr("child_count",i),r.aidTypeVocabularyHideField(),r.sectorVocabularyHideField()},e.prototype.addParentForm=function(e){e.preventDefault();var t=e.target,d=(0,l.default)(t).attr("form_type")?(0,l.default)(".parent-collection[form_type ='".concat((0,l.default)(t).attr("form_type"),"']")):(0,l.default)(".parent-collection"),i=(0,l.default)(t).attr("parent_count")?parseInt((0,l.default)(t).attr("parent_count"))+1:((0,l.default)(t).prev().find(".multi-form").length?(0,l.default)(t).prev().find(".multi-form").length:(0,l.default)(t).prev().find(".wrapped-child-body").length)+1,a=d.data("prototype").replace(/__PARENT_NAME__/g,i);a=a.replace(/__NAME__/g,0),(0,l.default)(t).prev().append((0,l.default)(a)),(0,l.default)(t).prev().find(".multi-form").last().find(".select2").select2({placeholder:"Select an option",allowClear:!0}),(0,l.default)(t).prev().find(".multi-form").last().find(".add_to_collection").attr("parent_count",i),this.addWrapperOnAdd(t),(0,l.default)(t).attr("parent_count",i),r.humanitarianScopeHideVocabularyUri(),r.countryBudgetHideCodeField(),r.sectorVocabularyHideField(),r.recipientVocabularyHideField(),r.policyVocabularyHideField(),r.tagVocabularyHideField(),r.transactionAidTypeVocabularyHideField(),r.indicatorReferenceHideFieldUri()},e.prototype.deleteForm=function(e){e.preventDefault();var t=e.target,d=(0,l.default)(".multi-form").length?(0,l.default)(t).closest(".subelement").find(".form-child-body").length:(0,l.default)(".form-child-body").length,i=(0,l.default)(".add_to_collection").attr("child_count")?parseInt((0,l.default)(".add_to_collection").attr("child_count"))+1:d;if((0,l.default)(".add_to_collection").attr("child_count",i),d>1){var a=(0,l.default)(t).closest(".form-child-body");a.next(".error").remove(),a.remove()}},e.prototype.deleteParentForm=function(e){e.preventDefault();var t=e.target,d=(0,l.default)(".subelement").length,i=(0,l.default)(".add_to_parent").attr("child_count")?parseInt((0,l.default)(".add_to_parent").attr("child_count"))+1:d;(0,l.default)(".add_to_parent").attr("child_count",i),(0,l.default)(".add_to_parent").attr("parent_count",i),d>2&&(0,l.default)(t).parent().remove()},e.prototype.addWrapper=function(){(0,l.default)(".multi-form").each((function(){(0,l.default)(this).find(".attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 attribute-wrapper mb-4"></div>'))})),(0,l.default)(".subelement").find(".wrapped-child-body").each((function(){(0,l.default)(this).find(".sub-attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 sub-attribute-wrapper mb-4"></div>'))}));var e=(0,l.default)("form>.form-field");e.length>0&&e.wrapAll('<div class="form-field-group-outer grid xl:grid-cols-2 mb-6 -mx-3 gap-y-6"></div>')},e.prototype.addWrapperOnAdd=function(e){(0,l.default)(e).prev().find(".multi-form").last().find(".attribute").wrapAll((0,l.default)('<div class="form-field-group grid xl:grid-cols-2 rounded-br-lg border-y border-r border-spring-50 attribute-wrapper mb-4"></div>')),(0,l.default)(e).prev().find(".multi-form").last().find(".subelement").find(".wrapped-child-body").each((function(){(0,l.default)(this).find(".sub-attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 sub-attribute-wrapper mb-4"></div>'))}))},e.prototype.textAreaHeight=function(e){var t=e.target,d=t.scrollHeight;(0,l.default)(t).css("height",d)},e.prototype.addToCollection=function(){var e=this;(0,l.default)("body").on("click",".add_to_collection",(function(t){(0,l.default)(t.target).hasClass("add-icon")?(t.stopPropagation(),(0,l.default)(t.target).parent("button").trigger("click")):e.addForm(t)})),(0,l.default)(".add_to_parent").on("click",(function(t){(0,l.default)(t.target).hasClass("add-icon")?(t.stopPropagation(),(0,l.default)(t.target).parent("button").trigger("click")):e.addParentForm(t)}))},e.prototype.deleteCollection=function(){var e=this,t=(0,l.default)(".delete-confirmation"),d={},i="";(0,l.default)("body").on("click",".delete",(function(e){t.fadeIn(),d=e,i="child"})),(0,l.default)("body").on("click",".cancel-popup",(function(){t.fadeOut(),d={},i=""})),(0,l.default)("body").on("click",".delete-confirm",(function(){"child"===i?e.deleteForm(d):"parent"===i&&e.deleteParentForm(d),t.fadeOut(),d={},i=""})),(0,l.default)("body").on("click",".delete-parent",(function(e){t.fadeIn(),d=e,i="parent"})),(0,l.default)(".select2").select2({placeholder:"Select an option",allowClear:!0}),(0,l.default)("body").on("change",'input[id*="[url]"]',(function(){var e,t=this,d=(null!==(e=(0,l.default)(this).val())&&void 0!==e?e:"").toString(),i=(0,l.default)(this).closest(".form-field-group").find('input[id*="[document]"]').val(),r="/mimetype?url=".concat(d,"&type=url");(0,l.default)(this).closest(".form-field").find(".text-danger").remove(),""!==d?a.default.get(r).then((function(e){if(e.data.success){var d=e.data.data.mimetype;(0,l.default)(t).closest(".form-field-group").find('select[id*="[format]"]').val(d).trigger("change")}else(0,l.default)(t).closest(".form-field").find(".text-danger").remove(),(0,l.default)(t).closest(".form-field").append("<div class='text-danger error'>"+e.data.message+"</div>"),(0,l.default)(t).closest(".form-field-group").find('select[id*="[format]"]').val("").trigger("change");(0,l.default)(t).closest(".form-field-group").find('input[id*="[document]"]').val("").trigger("change")})):i&&""!==i||(0,l.default)(this).closest(".form-field-group").find('select[id*="[format]"]').val("").trigger("change")})),(0,l.default)("body").on("change",'input[id*="[document]"]',(function(){var e,t=this,d=(null!==(e=(0,l.default)(this).val())&&void 0!==e?e:"").toString(),i="/mimetype?url=".concat(d,"&&type=document"),r=(0,l.default)(this).closest(".form-field-group").find('input[id*="[url]"]').val();(0,l.default)(this).closest(".form-field").find(".text-danger").remove(),""!==d?(a.default.get(i).then((function(e){if(e.data.success){var d=e.data.data.mimetype;(0,l.default)(t).closest(".form-field-group").find('select[id*="[format]"]').val(d).trigger("change")}else(0,l.default)(t).closest(".form-field-group").find('select[id*="[format]"]').val("").trigger("change")})),(0,l.default)(this).closest(".form-field-group").find('input[id*="[url]"]').val("").trigger("change")):r&&""!==r||(0,l.default)(this).closest(".form-field-group").find('select[id*="[format]"]').val("").trigger("change")}))},e}();(0,l.default)((function(){var e=new o;function t(e){var t=e.val()?"/organisation/agency/"+e.val():"/organisation/agency/";l.default.ajax({url:t}).then((function(e){var t,d=null!==(t=(0,l.default)("#organization_registration_agency").val())&&void 0!==t?t:"",i=!1;for(var a in(0,l.default)("#organization_registration_agency").empty(),e.data)a===d&&(i=!0),(0,l.default)("#organization_registration_agency").append(new Option(e.data[a],a,!0,!0)).val("").trigger("change");(0,l.default)("#organization_registration_agency").val(i?d:"").trigger("change")}))}e.addWrapper(),r.hideShowFormFields(),r.updateActivityIdentifier(),e.addToCollection(),e.deleteCollection(),(0,l.default)("textarea.form__input").length>0&&(0,l.default)("body").on("input","textarea.form__input",(function(t){e.textAreaHeight(t)})),(0,l.default)("body").on("select2:open",".select2",(function(){var e=document.querySelector(".select2-search__field");e&&e.focus()})),t((0,l.default)("#organization_country")),(0,l.default)("#organisation_identifier").attr("disabled","disabled"),(0,l.default)("body").on("select2:select","#organization_country",(function(){t((0,l.default)(this))})),(0,l.default)("body").on("select2:clear","#organization_country",(function(){t((0,l.default)(this))})),(0,l.default)("body").on("select2:select","#organization_registration_agency",(function(){var e=(0,l.default)(this).val()+"-"+(0,l.default)("#registration_number").val();(0,l.default)("#organisation_identifier").val(e)})),(0,l.default)("body").on("select2:clear","#organization_registration_agency",(function(){var e="-"+(0,l.default)("#registration_number").val();(0,l.default)("#organisation_identifier").val(e)})),(0,l.default)("body").on("keyup","#registration_number",(function(){var e=(0,l.default)("#organization_registration_agency").val()+"-"+(0,l.default)(this).val();(0,l.default)("#organisation_identifier").val(e)}));for(var d=document.querySelectorAll(".subelement"),i=0;i<d.length;i++){var a=d[i].querySelector(".control-label"),c=d[i].querySelector(".collection_error"),n=null==c?void 0:c.childElementCount;n&&n>0&&(null==a||a.classList.add("error-title"))}var s=document.querySelectorAll("select.cursor-not-allowed");for(i=0;i<s.length;i++){var f=s[i].nextSibling,u=null==f?void 0:f.firstChild,g=null==u?void 0:u.firstChild;g&&(g.style.cursor="not-allowed")}}))}},e=>{e.O(0,[898],(()=>{return t=76336,e(e.s=t);var t}));e.O()}]);