"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[531],{90242:function(e,t,i){var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicField=void 0;var a=d(i(19755));i(40686);var l=function(){function e(){}return e.prototype.hideShowFormFields=function(){this.humanitarianScopeHideVocabularyUri(),this.countryBudgetHideCodeField(),this.aidTypeVocabularyHideField(),this.sectorVocabularyHideField(),this.policyVocabularyHideField(),this.recipientVocabularyHideField(),this.sectorVocabularyHideField(),this.tagVocabularyHideField(),this.transactionAidTypeVocabularyHideField(),this.indicatorReferenceHideFieldUri()},e.prototype.humanitarianScopeHideVocabularyUri=function(){var e=this,t=(0,a.default)('select[id^="humanitarian_scope"][id*="[vocabulary]"]');t.length>0&&(a.default.each(t,(function(t,i){var d,l=null!==(d=(0,a.default)(i).val())&&void 0!==d?d:"";e.hideHumanitarianScopeField((0,a.default)(i),l.toString())})),t.on("select2:select",(function(t){var i=t.params.data.id,d=t.target;e.hideHumanitarianScopeField((0,a.default)(d),i)})),t.on("select2:clear",(function(t){var i=t.target;e.hideHumanitarianScopeField((0,a.default)(i),"")})))},e.prototype.hideHumanitarianScopeField=function(e,t){var i='input[id^="humanitarian_scope"][id*="[vocabulary_uri]"]';"99"===t?e.closest(".form-field-group").find(i).show().removeAttr("disabled").closest(".form-field").show():e.closest(".form-field-group").find(i).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()},e.prototype.indicatorReferenceHideFieldUri=function(){var e=this,t=(0,a.default)('select[id^="reference"][id*="[vocabulary]"]');t.length>0&&(a.default.each(t,(function(t,i){var d,l=null!==(d=(0,a.default)(i).val())&&void 0!==d?d:"";e.indicatorReferenceHideField((0,a.default)(i),l.toString())})),t.on("select2:select",(function(t){var i=t.params.data.id,d=t.target;e.indicatorReferenceHideField((0,a.default)(d),i)})),t.on("select2:clear",(function(t){var i=t.target;e.indicatorReferenceHideField((0,a.default)(i),"")})))},e.prototype.indicatorReferenceHideField=function(e,t){var i='input[id^="reference"][id*="[indicator_uri]"]';"99"===t?e.closest(".form-field-group").find(i).show().removeAttr("disabled").closest(".form-field").show():e.closest(".form-field-group").find(i).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()},e.prototype.countryBudgetHideCodeField=function(){var e,t=this,i=(0,a.default)("select#country_budget_vocabulary");if(i.length>0){var d=null!==(e=i.val())&&void 0!==e?e:"1";this.hideCountryBudgetField(d.toString()),i.on("select2:select",(function(e){var i=e.params.data.id;t.hideCountryBudgetField(i)})),i.on("select2:clear",(function(){t.hideCountryBudgetField("")}))}},e.prototype.hideCountryBudgetField=function(e){var t='input[id^="budget_item"][id*="[code_text]"]',i='select[id^="budget_item"][id*="[code]"]';"1"===e?((0,a.default)(i).val("").trigger("change").attr("disabled","disabled").closest(".form-field").hide(),(0,a.default)(t).removeAttr("disabled").closest(".form-field").show()):((0,a.default)(i).removeAttr("disabled").closest(".form-field").show(),(0,a.default)(t).val("").trigger("change").closest(".form-field").hide())},e.prototype.aidTypeVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="default_aid_type_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,i){var d,l=null!==(d=(0,a.default)(i).val())&&void 0!==d?d:"1";e.hideAidTypeSelectField((0,a.default)(i),l.toString())})),t.on("select2:select",(function(t){var i=t.params.data.id,d=t.target;e.hideAidTypeSelectField((0,a.default)(d),i)})),t.on("select2:clear",(function(t){var i=t.target;e.hideAidTypeSelectField((0,a.default)(i),"")})))},e.prototype.transactionAidTypeVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="aid_type_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,i){var d,l=null!==(d=(0,a.default)(i).val())&&void 0!==d?d:"1";e.hideTransactionAidTypeSelectField((0,a.default)(i),l.toString())})),t.on("select2:select",(function(t){var i=t.params.data.id,d=t.target;e.hideTransactionAidTypeSelectField((0,a.default)(d),i)})),t.on("select2:clear",(function(t){var i=t.target;e.hideTransactionAidTypeSelectField((0,a.default)(i),"")})))},e.prototype.hideAidTypeSelectField=function(e,t){switch(t){case"2":e.closest(".form-field-group").find('select[id*="[earmarking_category]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[default_aid_type]"],select[id*="[earmarking_modality]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"3":e.closest(".form-field-group").find('select[id*="[earmarking_modality]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[default_aid_type]"],select[id*="[earmarking_category]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"4":e.closest(".form-field-group").find('select[id*="[cash_and_voucher_modalities]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[default_aid_type]"],select[id*="[earmarking_category]"],select[id*="[earmarking_modality]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;default:e.closest(".form-field-group").find('select[id*="[default_aid_type]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[earmarking_category]"],select[id*="[earmarking_modality]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e.prototype.hideTransactionAidTypeSelectField=function(e,t){switch(t){case"2":e.closest(".form-field-group").find('select[id*="[earmarking_category]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[aid_type_code]"],select[id*="[earmarking_modality]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"3":e.closest(".form-field-group").find('select[id*="[earmarking_modality]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[aid_type_code]"],select[id*="[earmarking_category]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"4":e.closest(".form-field-group").find('select[id*="[cash_and_voucher_modalities]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[aid_type_code]"],select[id*="[earmarking_category]"],select[id*="[earmarking_modality]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;default:e.closest(".form-field-group").find('select[id*="[aid_type_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[earmarking_category]"],select[id*="[earmarking_modality]"],select[id*="[cash_and_voucher_modalities]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e.prototype.policyVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="policy_marker_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,i){var d,l=null!==(d=(0,a.default)(i).val())&&void 0!==d?d:"1";e.hidePolicyMakerField((0,a.default)(i),l.toString())})),t.on("select2:select",(function(t){var i=t.params.data.id,d=t.target;e.hidePolicyMakerField((0,a.default)(d),i)})),t.on("select2:clear",(function(t){var i=t.target;e.hidePolicyMakerField((0,a.default)(i),"99")})))},e.prototype.hidePolicyMakerField=function(e,t){if("1"===t)e.closest(".form-field-group").find('select[id*="[policy_marker]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[policy_marker_text]"],input[id*="[vocabulary_uri]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();else e.closest(".form-field-group").find('input[id*="[policy_marker_text]"],input[id*="[vocabulary_uri]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[policy_marker]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()},e.prototype.sectorVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="sector_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,i){var d,l=null!==(d=(0,a.default)(i).val())&&void 0!==d?d:"1";e.hideSectorField((0,a.default)(i),l.toString())})),t.on("select2:select",(function(t){var i=t.params.data.id,d=t.target;e.hideSectorField((0,a.default)(d),i)})),t.on("select2:clear",(function(t){var i=t.target;e.hideSectorField((0,a.default)(i),"")})))},e.prototype.hideSectorField=function(e,t){var i='input[id*="[text]"],input[id*="[vocabulary_uri]"]',d='select[id*="[category_code]"],select[id*="[sdg_goal]"],select[id*="[sdg_target]"],select[id*="[code]"]';switch(t){case"1":e.closest(".form-field-group").find('select[id*="[code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[category_code]"],select[id*="[sdg_goal]"],select[id*="[sdg_target]"],input[id*="[vocabulary_uri]"],input[id*="[text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"2":e.closest(".form-field-group").find('select[id*="[category_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[sdg_goal]"],select[id*="[sdg_target]"],select[id*="[code]"],input[id*="[text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"7":e.closest(".form-field-group").find('select[id*="[sdg_goal]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[category_code]"],select[id*="[sdg_target]"],select[id*="[code]"],input[id*="[text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"8":e.closest(".form-field-group").find('select[id*="[sdg_target]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[category_code]"],select[id*="[sdg_goal]"],select[id*="[code]"],input[id*="[text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"98":case"99":e.closest(".form-field-group").find(i).show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find(d).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;default:e.closest(".form-field-group").find('input[id*="[text]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[category_code]"],select[id*="[sdg_goal]"],select[id*="[sdg_target]"],select[id*="[code]"],input[id*="[vocabulary_uri]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e.prototype.recipientVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="region_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,i){var d,l=null!==(d=(0,a.default)(i).val())&&void 0!==d?d:"1";e.hideRecipientRegionField((0,a.default)(i),l.toString())})),t.on("select2:select",(function(t){var i=t.params.data.id,d=t.target;e.hideRecipientRegionField((0,a.default)(d),i)})),t.on("select2:clear",(function(t){var i=t.target;e.hideRecipientRegionField((0,a.default)(i),"")})))},e.prototype.hideRecipientRegionField=function(e,t){var i='input[id*="[custom_code]"], input[id*="[code]"]',d='select[id*="[region_code]"],input[id*="[vocabulary_uri]"]';switch(t){case"1":e.closest(".form-field-group").find('select[id*="[region_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[custom_code]"],input[id*="[vocabulary_uri]"],input[id*="[code]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"2":default:e.closest(".form-field-group").find(i).show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find(d).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"99":e.closest(".form-field-group").find('input[id*="[custom_code]"],input[id*="[vocabulary_uri]"], input[id*="[code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[region_code]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e.prototype.updateActivityIdentifier=function(){var e=(0,a.default)("#activity_identifier");e.length>0&&e.on("keyup",(function(){(0,a.default)("#iati_identifier_text").val((0,a.default)(".identifier").attr("activity_identifier")+"-".concat((0,a.default)(this).val()))}))},e.prototype.tagVocabularyHideField=function(){var e=this,t=(0,a.default)('select[id*="tag_vocabulary"]');t.length>0&&(a.default.each(t,(function(t,i){var d,l=null!==(d=(0,a.default)(i).val())&&void 0!==d?d:"1";e.hideTagField((0,a.default)(i),l.toString())})),t.on("select2:select",(function(t){var i=t.params.data.id,d=t.target;e.hideTagField((0,a.default)(d),i)})),t.on("select2:clear",(function(t){var i=t.target;e.hideTagField((0,a.default)(i),"")})))},e.prototype.hideTagField=function(e,t){var i='input[id*="[tag_text]"]',d='select[id*="[goals_tag_code]"],select[id*="[targets_tag_code]"],input[id*="[vocabulary_uri]"]';switch(t){case"1":default:e.closest(".form-field-group").find(i).show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find(d).val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"2":e.closest(".form-field-group").find('select[id*="[goals_tag_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[targets_tag_code]"],select[id*="[targets_tag_code]"],input[id*="[tag_text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"3":e.closest(".form-field-group").find('select[id*="[targets_tag_code]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('input[id*="[vocabulary_uri]"],select[id*="[goals_tag_code]"],input[id*="[tag_text]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide();break;case"99":e.closest(".form-field-group").find('input[id*="[tag_text]"], input[id*="[vocabulary_uri]"]').show().removeAttr("disabled").closest(".form-field").show(),e.closest(".form-field-group").find('select[id*="[goals_tag_code]"],select[id*="[targets_tag_code]"]').val("").trigger("change").hide().attr("disabled","disabled").closest(".form-field").hide()}},e}();t.DynamicField=l},76336:function(e,t,i){var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=d(i(97218)),l=d(i(19755));i(40686);var r=new(i(90242).DynamicField),o=function(){function e(){}return e.prototype.addForm=function(e){e.preventDefault();var t=e.target,i=(0,l.default)(t).attr("form_type")?(0,l.default)(".collection-container[form_type ='".concat((0,l.default)(t).attr("form_type"),"']")):(0,l.default)(".collection-container"),d=(0,l.default)(t).attr("child_count")?parseInt((0,l.default)(t).attr("child_count"))+1:(0,l.default)(t).parent().find(".form-child-body").length,a=(0,l.default)(t).attr("parent_count")?parseInt((0,l.default)(t).attr("parent_count")):(0,l.default)(t).parents(".multi-form").index()-1,o=(0,l.default)(t).attr("wrapped_parent_count")?parseInt((0,l.default)(t).attr("wrapped_parent_count")):(0,l.default)(t).parents(".wrapped-child-body").index()-1,n=i.data("prototype").replace(/__PARENT_NAME__/g,a);n=(0,l.default)(t).attr("has_child_collection")?(n=n.replace(/__WRAPPER_NAME__/g,d)).replace(/__NAME__/g,0):(n=n.replace(/__NAME__/g,d)).replace(/__WRAPPER_NAME__/g,o),(0,l.default)(t).prev().append((0,l.default)(n)),(0,l.default)(t).attr("has_child_collection")&&((0,l.default)(t).prev(".subelement").children(".wrapped-child-body").last().find(".add_to_collection").attr("wrapped_parent_count",d),(0,l.default)(t).prev(".subelement").children(".wrapped-child-body").last().find(".add_to_collection").attr("parent_count",a)),(0,l.default)(t).prev().find(".wrapped-child-body").last().find(".add_to_collection").attr("wrapper_parent_count",null!=o?o:0),(0,l.default)(t).attr("form_type")?((0,l.default)(t).prev().last().find(".select2").select2({placeholder:"Select an option",allowClear:!0}),(0,l.default)(this).find(".sub-attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 sub-attribute-wrapper"></div>')),(0,l.default)(t).prev(".subelement").children(".wrapped-child-body").last().find(".sub-attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 sub-attribute-wrapper mt-6"></div>'))):(0,l.default)(t).parent().find(".form-child-body").last().find(".select2").select2({placeholder:"Select an option",allowClear:!0}),(0,l.default)(t).attr("child_count",d),r.aidTypeVocabularyHideField(),r.sectorVocabularyHideField()},e.prototype.addParentForm=function(e){e.preventDefault();var t=e.target,i=(0,l.default)(t).attr("form_type")?(0,l.default)(".parent-collection[form_type ='".concat((0,l.default)(t).attr("form_type"),"']")):(0,l.default)(".parent-collection"),d=(0,l.default)(t).attr("parent_count")?parseInt((0,l.default)(t).attr("parent_count"))+1:((0,l.default)(t).prev().find(".multi-form").length?(0,l.default)(t).prev().find(".multi-form").length:(0,l.default)(t).prev().find(".wrapped-child-body").length)+1,a=i.data("prototype").replace(/__PARENT_NAME__/g,d);a=a.replace(/__NAME__/g,0),(0,l.default)(t).prev().append((0,l.default)(a)),(0,l.default)(t).prev().find(".multi-form").last().find(".select2").select2({placeholder:"Select an option",allowClear:!0}),(0,l.default)(t).prev().find(".multi-form").last().find(".add_to_collection").attr("parent_count",d),this.addWrapperOnAdd(t),(0,l.default)(t).attr("parent_count",d),r.humanitarianScopeHideVocabularyUri(),r.countryBudgetHideCodeField(),r.sectorVocabularyHideField(),r.recipientVocabularyHideField(),r.policyVocabularyHideField(),r.tagVocabularyHideField(),r.transactionAidTypeVocabularyHideField(),r.indicatorReferenceHideFieldUri()},e.prototype.deleteForm=function(e){e.preventDefault();var t=e.target,i=(0,l.default)(".multi-form").length?(0,l.default)(t).closest(".subelement").find(".form-child-body").length:(0,l.default)(".form-child-body").length,d=(0,l.default)(".add_to_collection").attr("child_count")?parseInt((0,l.default)(".add_to_collection").attr("child_count"))+1:i;if((0,l.default)(".add_to_collection").attr("child_count",d),i>1){var a=(0,l.default)(t).closest(".form-child-body");a.next(".error").remove(),a.remove()}},e.prototype.deleteParentForm=function(e){e.preventDefault();var t=e.target,i=(0,l.default)(".subelement").length,d=(0,l.default)(".add_to_parent").attr("child_count")?parseInt((0,l.default)(".add_to_parent").attr("child_count"))+1:i;(0,l.default)(".add_to_parent").attr("child_count",d),(0,l.default)(".add_to_parent").attr("parent_count",d),i>2&&(0,l.default)(t).parent().remove()},e.prototype.addWrapper=function(){(0,l.default)(".multi-form").each((function(){(0,l.default)(this).find(".attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 attribute-wrapper mb-4"></div>'))})),(0,l.default)(".subelement").find(".wrapped-child-body").each((function(){(0,l.default)(this).find(".sub-attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 sub-attribute-wrapper mb-4"></div>'))}));var e=(0,l.default)("form>.form-field");e.length>0&&e.wrapAll('<div class="form-field-group-outer grid xl:grid-cols-2 mb-6 -mx-3 gap-y-6"></div>')},e.prototype.addWrapperOnAdd=function(e){(0,l.default)(e).prev().find(".multi-form").last().find(".attribute").wrapAll((0,l.default)('<div class="form-field-group grid xl:grid-cols-2 rounded-br-lg border-y border-r border-spring-50 attribute-wrapper mb-4"></div>')),(0,l.default)(e).prev().find(".multi-form").last().find(".subelement").find(".wrapped-child-body").each((function(){(0,l.default)(this).find(".sub-attribute").wrapAll((0,l.default)('<div class="form-field-group flex flex-wrap rounded-br-lg border-y border-r border-spring-50 sub-attribute-wrapper mb-4"></div>'))}))},e.prototype.textAreaHeight=function(e){var t=e.target,i=t.scrollHeight;(0,l.default)(t).css("height",i)},e.prototype.addToCollection=function(){var e=this;(0,l.default)("body").on("click",".add_to_collection",(function(t){(0,l.default)(t.target).hasClass("add-icon")?(t.stopPropagation(),(0,l.default)(t.target).parent("button").trigger("click")):e.addForm(t)})),(0,l.default)(".add_to_parent").on("click",(function(t){(0,l.default)(t.target).hasClass("add-icon")?(t.stopPropagation(),(0,l.default)(t.target).parent("button").trigger("click")):e.addParentForm(t)}))},e.prototype.deleteCollection=function(){var e=this,t=(0,l.default)(".delete-confirmation"),i={},d="";(0,l.default)("body").on("click",".delete",(function(e){t.fadeIn(),i=e,d="child"})),(0,l.default)("body").on("click",".cancel-popup",(function(){t.fadeOut(),i={},d=""})),(0,l.default)("body").on("click",".delete-confirm",(function(){"child"===d?e.deleteForm(i):"parent"===d&&e.deleteParentForm(i),t.fadeOut(),i={},d=""})),(0,l.default)("body").on("click",".delete-parent",(function(e){t.fadeIn(),i=e,d="parent"})),(0,l.default)(".select2").select2({placeholder:"Select an option",allowClear:!0}),(0,l.default)("body").on("change",'input[id*="[url]"]',(function(){var e,t=this,i=(null!==(e=(0,l.default)(this).val())&&void 0!==e?e:"").toString(),d=(0,l.default)(this).closest(".form-field-group").find('input[id*="[document]"]').val(),r="/mimetype?url=".concat(i,"&type=url");(0,l.default)(this).closest(".form-field").find(".text-danger").remove(),""!==i?a.default.get(r).then((function(e){if(e.data.success){var i=e.data.data.mimetype;(0,l.default)(t).closest(".form-field-group").find('select[id*="[format]"]').val(i).trigger("change")}else(0,l.default)(t).closest(".form-field").find(".text-danger").remove(),(0,l.default)(t).closest(".form-field").append("<div class='text-danger error'>"+e.data.message+"</div>"),(0,l.default)(t).closest(".form-field-group").find('select[id*="[format]"]').val("").trigger("change");(0,l.default)(t).closest(".form-field-group").find('input[id*="[document]"]').val("").trigger("change")})):d&&""!==d||(0,l.default)(this).closest(".form-field-group").find('select[id*="[format]"]').val("").trigger("change")})),(0,l.default)("body").on("change",'input[id*="[document]"]',(function(){var e,t=this,i=(null!==(e=(0,l.default)(this).val())&&void 0!==e?e:"").toString(),d="/mimetype?url=".concat(i,"&&type=document"),r=(0,l.default)(this).closest(".form-field-group").find('input[id*="[url]"]').val();(0,l.default)(this).closest(".form-field").find(".text-danger").remove(),""!==i?(a.default.get(d).then((function(e){if(e.data.success){var i=e.data.data.mimetype;(0,l.default)(t).closest(".form-field-group").find('select[id*="[format]"]').val(i).trigger("change")}else(0,l.default)(t).closest(".form-field-group").find('select[id*="[format]"]').val("").trigger("change")})),(0,l.default)(this).closest(".form-field-group").find('input[id*="[url]"]').val("").trigger("change")):r&&""!==r||(0,l.default)(this).closest(".form-field-group").find('select[id*="[format]"]').val("").trigger("change")}))},e}();(0,l.default)((function(){var e=new o;function t(e){var t=e.val()?"/organisation/agency/"+e.val():"/organisation/agency/";l.default.ajax({url:t}).then((function(e){var t,i=null!==(t=(0,l.default)("#organization_registration_agency").val())&&void 0!==t?t:"",d=!1;for(var a in(0,l.default)("#organization_registration_agency").empty(),e.data)a===i&&(d=!0),(0,l.default)("#organization_registration_agency").append(new Option(e.data[a],a,!0,!0)).val("").trigger("change");(0,l.default)("#organization_registration_agency").val(d?i:"").trigger("change")}))}e.addWrapper(),r.hideShowFormFields(),r.updateActivityIdentifier(),e.addToCollection(),e.deleteCollection(),(0,l.default)("textarea.form__input").length>0&&(0,l.default)("body").on("input","textarea.form__input",(function(t){e.textAreaHeight(t)})),(0,l.default)("body").on("select2:open",".select2",(function(){var e=document.querySelector(".select2-search__field");e&&e.focus()})),t((0,l.default)("#organization_country")),(0,l.default)("#organisation_identifier").attr("disabled","disabled"),(0,l.default)("body").on("select2:select","#organization_country",(function(){t((0,l.default)(this))})),(0,l.default)("body").on("select2:clear","#organization_country",(function(){t((0,l.default)(this))})),(0,l.default)("body").on("select2:select","#organization_registration_agency",(function(){var e=(0,l.default)(this).val()+"-"+(0,l.default)("#registration_number").val();(0,l.default)("#organisation_identifier").val(e)})),(0,l.default)("body").on("select2:clear","#organization_registration_agency",(function(){var e="-"+(0,l.default)("#registration_number").val();(0,l.default)("#organisation_identifier").val(e)})),(0,l.default)("body").on("keyup","#registration_number",(function(){var e=(0,l.default)("#organization_registration_agency").val()+"-"+(0,l.default)(this).val();(0,l.default)("#organisation_identifier").val(e)}));for(var i=document.querySelectorAll(".subelement"),d=0;d<i.length;d++){var a=i[d].querySelector(".control-label"),n=i[d].querySelector(".collection_error"),c=null==n?void 0:n.childElementCount;c&&c>0&&(null==a||a.classList.add("error-title"))}var s=document.querySelectorAll("select.cursor-not-allowed");for(d=0;d<s.length;d++){var f=s[d].nextSibling,u=null==f?void 0:f.firstChild,p=null==u?void 0:u.firstChild;p&&(p.style.cursor="not-allowed")}function g(e){var t=e.nextElementSibling;return t&&"button"===t.tagName.toLowerCase()?{dom:t,relation:"sibling"}:(t=e.querySelector("button.add_more"))?{dom:t,relation:"child"}:{dom:null,relation:"none"}}function h(e,t){var i=document.createElement("button");i.className="absolute top-0 right-0 bg-spring-50 text-white px-2 collapsable-hide-button",i.textContent="Hide",i.setAttribute("type","button");var d=null;if(null===t.dom)d=Array.from(e.children).find((function(e){return"DIV"===e.tagName}));else if("child"===t.relation)d=t.dom.parentElement;else{var a=t.dom.previousElementSibling;(d=Array.from((null==a?void 0:a.children)||[]).find((function(e){return"DIV"===e.tagName})))&&i.addEventListener("click",(function(){Array.from(a.children).forEach((function(e){"LABEL"===e.tagName||e.classList.contains("collapsable-placeholder")||_(e)})),_(t.dom)}))}return d&&(d.classList.add("relative"),i.addEventListener("click",(function(){_(d),_(t.dom),function(e,t){var i=function(){var e=document.createElement("div");return e.classList.add("border-x","border-y","border-spring-50","px-6","py-6","text-sm","text-n-40","cursor-pointer","collapsable-placeholder"),e}(),d=function(e,t){var i,d,a=t.dom?null===(i=t.dom.previousElementSibling)||void 0===i?void 0:i.querySelector("label"):e.querySelector("label");return(null!==(d=null==a?void 0:a.innerText)&&void 0!==d?d:"element").trim().split(/\s+/)[0]}(e,t);i.innerHTML="You can expand the optional <strong>".concat(d,"</strong> field by clicking here."),null===t.dom||"child"===t.relation?function(e,t){m(e,"border-l"),v(e,"pb-11"),b(e,t)}(e,i):function(e,t,i){var d;i.classList.add("mb-6"),null===(d=t.dom)||void 0===d||d.classList.add("mb-6"),m(e,"border-l"),v(e,"pb-11"),b(e,i,t)}(e,t,i),e.appendChild(i)}(e,t)})),d.appendChild(i)),i}function m(e,t){e.classList.contains(t)&&(e.classList.add("".concat(t,"-was-here")),e.classList.remove(t))}function v(e,t){e.classList.contains(t)&&(e.classList.add("".concat(t,"-was-here")),e.classList.remove(t))}function b(e,t,i){t.addEventListener("click",(function(){e.classList.contains("border-l-was-here")&&(e.classList.add("border-l"),e.classList.remove("border-l-was-here")),e.classList.contains("pb-11-was-here")&&(e.classList.add("pb-11"),e.classList.remove("pb-11-was-here")),function(e){e.querySelectorAll(".collapsable-hide").forEach((function(e){e.classList.remove("collapsable-hide")}))}(e),(null==i?void 0:i.dom)&&i.dom.classList.remove("collapsable-hide"),t.remove()}))}function _(e){var t;null===(t=null==e?void 0:e.classList)||void 0===t||t.add("collapsable-hide")}document.querySelectorAll(".collapsable").forEach((function(e){var t=e,i=h(t,g(t));(function(e){var t=e.querySelectorAll("input, select, textarea");return Array.from(t).some((function(e){return(e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement)&&""!==e.value.trim()}))})(t)||i.click()})),new MutationObserver((function(e){for(var t=0,i=e;t<i.length;t++){var d=i[t];"childList"===d.type&&Array.from(d.addedNodes).forEach((function(e){e instanceof HTMLElement&&(e.querySelectorAll(".collapsable").forEach((function(e){h(e,g(e))})),e.querySelectorAll(".collapsable-hide-button").forEach((function(e){e.click()})))}))}})).observe(document.body,{childList:!0,subtree:!0})}))}},e=>{e.O(0,[898],(()=>{return t=76336,e(e.s=t);var t}));e.O()}]);